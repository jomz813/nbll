import React, { useState } from 'react';
import { Navbar, PageId } from './components/Navbar';

const App: React.FC = () => {
  const [currentView, setCurrentView] = useState<PageId>('landing');

  const renderContent = () => {
    switch (currentView) {
      case 'landing':
        return (
          <main key="landing" className="relative z-10 flex flex-col items-center justify-center min-h-screen px-4 text-center pt-24 pb-12 page-transition">
            <h1 className="max-w-4xl text-3xl sm:text-5xl md:text-7xl lg:text-8xl font-medium tracking-tight leading-[1.1] mb-8 text-white drop-shadow-2xl hover:scale-[1.01] hover:text-white/95 transition-all duration-700 ease-in-out cursor-default">
              the highest level of<br />
              basketball legends<br />
              begins here.
            </h1>
            <div className="flex flex-col items-center gap-4">
              <button 
                onClick={() => setCurrentView('home')}
                className="bg-white hover:bg-gray-100 text-brand-red text-base sm:text-lg font-medium px-8 sm:px-10 py-3.5 sm:py-4 rounded-full transition-all duration-300 shadow-[0_4px_20px_rgba(255,255,255,0.4)] hover:shadow-[0_6px_30px_rgba(255,255,255,0.6)] hover:-translate-y-1 active:scale-95 flex items-center gap-2 group"
              >
                enter
                <svg className="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                </svg>
              </button>
            </div>
          </main>
        );
      
      case 'home':
        return <PageWrapper key="home" title="nbll hub" />;
      case 'standings':
        return <PageWrapper key="standings" title="standings & playoffs" />;
      case 'schedule':
        return <PageWrapper key="schedule" title="schedule & gamescores" />;
      case 'stats':
        return (
          <PageWrapper key="stats" title="statsheet embed">
            <div className="w-full max-w-7xl h-[70vh] bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center mt-12 backdrop-blur-md shadow-2xl overflow-hidden">
              <iframe 
                src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQ40oM4VxQKSbZoD6NQXO3vb9GYVP6bQvZczPVAYaw-6lcLsGlWIdEhJUshk2lOe5wp2flh3QsLP4As/pubhtml?gid=0&single=true&widget=true&headers=false" 
                className="w-full h-full border-none"
                title="NBLL Statsheet"
                loading="lazy"
              />
            </div>
          </PageWrapper>
        );
      case 'legacy':
        return (
          <PageWrapper key="legacy" title="coming soon">
             <div className="w-full max-w-6xl aspect-video bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center mt-12 backdrop-blur-md shadow-2xl overflow-hidden group">
              <div className="text-center p-8">
                <div className="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-500">
                   <svg className="w-8 h-8 text-white/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <h3 className="text-xl font-medium text-white/80 mb-2">Legacy Records</h3>
                <p className="text-white/40 italic text-sm">Historical Google Sheets integration pending...</p>
              </div>
            </div>
          </PageWrapper>
        );
      case 'rules':
        return <PageWrapper key="rules" title="league server & game rules" />;
      case 'more':
        return <PageWrapper key="more" title="everything else" />;
      default:
        return null;
    }
  };

  return (
    <div className="relative w-full min-h-screen overflow-hidden bg-black text-white selection:bg-red-600 selection:text-white">
      <Navbar currentPage={currentView} onNavigate={setCurrentView} />

      {/* Hero Background Layer - Fluid Gradient */}
      <div className="absolute inset-0 z-0 w-full h-full fluid-bg">
        <div className="absolute inset-0 bg-gradient-to-r from-black/80 via-transparent to-black/80"></div>
        <div className="absolute inset-x-0 top-0 h-40 bg-gradient-to-b from-black/90 to-transparent"></div>
        <div className="absolute inset-x-0 bottom-0 h-96 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
        <div className="absolute inset-0 opacity-[0.03]" style={{ backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px)', backgroundSize: '40px 40px' }}></div>
      </div>

      <div className="relative z-10">
        {renderContent()}
      </div>
    </div>
  );
};

const PageWrapper: React.FC<{ title: string; children?: React.ReactNode }> = ({ title, children }) => (
  <main className="flex flex-col items-center justify-start min-h-screen px-4 pt-32 pb-12 text-center page-transition">
    <div className="max-w-7xl w-full mt-8 md:mt-12 flex flex-col items-center">
      <h1 className="text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter text-white uppercase drop-shadow-lg leading-tight mb-4">
        {title}
      </h1>
      <div className="w-full flex justify-center">
        {children}
      </div>
    </div>
  </main>
);

export default App;
